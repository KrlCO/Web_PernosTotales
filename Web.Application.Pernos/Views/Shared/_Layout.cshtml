<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] PERNOS TOTALES</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Web.Application.Pernos.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>
<body class="d-flex flex-column min-vh-100">

    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">PERNOS TOTALES</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-end">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Producto" asp-action="Catalogo">Catalogo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Nosotros">Nosotros</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Contacto">Contacto</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Tienda" asp-action="Carrito">
                                <i class="fas fa-shopping-cart"></i><span class="badge bg-danger text-white ms-1 rounded-pill" id="cantidadcarrito">0</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container flex-grow-1">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <footer class="text-center text-lg-start text-white mt-auto">
        <!-- Grid container -->
        <div class="container p-4 pb-0">
            <!-- Section: Links -->
            <section class="">
                <!--Grid row-->
                <div class="row">
                    <!--Grid column-->
                    <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
                        <p>CENTRAL TELEFÓNICA</p>
                        <p>+51 956644734</p>
                        <ul class="footer__info-contact">
                            <li>
                                <i class="fas fa-envelope"></i><a href="#">ventas@pernostotales.com.pe</a>
                            </li>
                            <li>
                                <i class="fas fa-location-dot"></i>Av. Fernando Leon de Vivero Nro S/N
                            </li>
                        </ul>
                    </div>
                    <!--Grid column-->
                    <!--Grid column-->
                    <div class="col-lg-2 col-md-6 mb-4 mb-md-0">
                        <h5 class="text-uppercase">La Empresa</h5>

                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="#!" class="text-white">Misión, Visión y Valores</a>
                            </li>
                            <li>
                                <a href="#!" class="text-white">Infraestructura</a>
                            </li>
                            <li>
                                <a href="#!" class="text-white">Calidad</a>
                            </li>

                        </ul>
                    </div>
                    <!--Grid column-->
                    <!--Grid column-->
                    <div class="col-lg-2 col-md-6 mb-4 mb-md-0">
                        <h5 class="text-uppercase">Productos</h5>

                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="#!" class="text-white">Productos</a>
                            </li>
                        </ul>
                    </div>
                    <!--Grid column-->
                    <!--Grid column-->
                    <div class="col-lg-2 col-md-6 mb-4 mb-md-0">
                        <h5 class="text-uppercase">Descargas</h5>

                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="#!" class="text-white">Catálogos</a>
                            </li>
                            <li>
                                <a href="#!" class="text-white">Info Rodamientos</a>
                            </li>
                        </ul>
                    </div>
                    <!--Grid column-->
                    <!--Grid column-->
                    <div class="col-lg-2 col-md-6 mb-4 mb-md-0">
                        @* <h5 class="text-uppercase">Links</h5> *@

                        <ul class="list-unstyled mb-0">
                            <li>
                                <a href="#!" class="text-white">Ética y Transparencia</a>
                            </li>
                            <li>
                                <a href="#!" class="text-white">Noticias</a>
                            </li>
                            <li>
                                <a href="#!" class="text-white">Contacto</a>
                            </li>

                        </ul>
                    </div>
                    <!--Grid column-->
                </div>
                <!--Grid row-->
            </section>
            <!-- Section: Links -->

            <hr class="mb-4" />

@*             <!-- Section: CTA -->
            <section class="">
                <p class="d-flex justify-content-center align-items-center">
                    <span class="me-3">Register for free</span>
                    <button type="button" class="btn btn-outline-light btn-rounded">
                        Sign up!
                    </button>
                </p>
            </section>
            <!-- Section: CTA --> *@

            <hr class="mb-4" />

            <!-- Section: Social media -->
            <section class="mb-4 text-center">
                <!-- Facebook -->
                <a class="btn btn-outline-light btn-floating m-1"
                   href="#!"
                   role="button">
                    <i class="fab fa-facebook-f"></i>
                </a>

                <!-- Twitter -->
                <a class="btn btn-outline-light btn-floating m-1"
                   href="#!"
                   role="button">
                    <i class="fab fa-twitter"></i>
                </a>

                <!-- Google -->
                <a class="btn btn-outline-light btn-floating m-1"
                   href="#!"
                   role="button">
                    <i class="fab fa-google"></i>
                </a>

                <!-- Instagram -->
                <a class="btn btn-outline-light btn-floating m-1"
                   href="#!"
                   role="button">
                    <i class="fab fa-instagram"></i>
                </a>

                <!-- Linkedin -->
                <a class="btn btn-outline-light btn-floating m-1"
                   href="#!"
                   role="button">
                    <i class="fab fa-linkedin-in"></i>
                </a>

            </section>
            <!-- Section: Social media -->
        </div>
        <!-- Grid container -->
        <!-- Copyright -->
        <div class="text-center p-3"
             style="background-color: rgba(0, 0, 0, 0.2)">
            © 2024 Copyright:
            <a class="text-white" href="#">pernostotales.com</a>
        </div>
        <!-- Copyright -->
    </footer>



    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)

    <script>
        // Función para actualizar la cantidad de productos en el carrito
        function actualizarCantidadCarrito() {
            let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
            let cantidadTotal = carrito.reduce((total, producto) => total + producto.cantidad, 0);

            // Actualizar el span con el ID 'cantidadcarrito'
            document.getElementById('cantidadcarrito').innerText = cantidadTotal;
        }

        // Llamar a la función para actualizar la cantidad al cargar la página
        $(document).ready(function () {
            actualizarCantidadCarrito();
        });

        // Agregar al carrito también actualiza el contador
        function agregarAlCarrito(idProducto, nombre, precioVenta, imagenRuta) {
            let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
            let productoEnCarrito = carrito.find(p => p.idProducto === idProducto);

            if (productoEnCarrito) {
                productoEnCarrito.cantidad++;
            } else {
                carrito.push({
                    idProducto: idProducto,
                    nombre: nombre,
                    precioVenta: precioVenta,
                    cantidad: 1,
                    imagenRuta: imagenRuta
                });
            }

            localStorage.setItem('carrito', JSON.stringify(carrito));
            Swal.fire({
                title: 'Producto agregado',
                text: `Has agregado ${nombre} al carrito.`,
                icon: 'success',
                showConfirmButton: false,
                timer: 1500
            });

            // Actualizar el contador después de agregar un producto
            actualizarCantidadCarrito();
        }
    </script>


</body>
</html>
